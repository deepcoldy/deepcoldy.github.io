---
date: 2015-09-10 14:40:23
status: public
title: 用canvas画一个头像框
---

js部分如下


```js
function draw(id,url){
    var c=document.getElementById(id);
    var ctx=c.getContext("2d");
    var img=document.getElementById(url);
    var pat=ctx.createPattern(img,"repeat");
    alert(pat);
    ctx.beginPath();
    ctx.beginPath();
    ctx.fillStyle=pat;
    var x= 0;var y=0;
    var wid= 40;
    var r=13;
    var x1=10,y1=0;
    var x2=40,y2=0;
    ctx.arcTo(x,y,x+r,y,r);
    ctx.moveTo(x+r,y);           
    ctx.lineTo(x+r+wid,y);          
    ctx.arcTo(x+2*r+wid,y,x+2*r+wid,y+r,r); 
    ctx.moveTo(x+2*r+wid,y+r);
    ctx.lineTo(x+2*r+wid,y+r+wid);
    ctx.arcTo(x+2*r+wid,y+2*r+wid,x+r+wid,y+2*r+wid,r);
    ctx.moveTo(x+r+wid,y+2*r+wid);
    ctx.lineTo(x+r,y+2*r+wid);
    ctx.arcTo(x,y+2*r+wid,x,y+r+wid,r);
    ctx.moveTo(x,y+r+wid);
    ctx.lineTo(x,y+r);
    ctx.arcTo(x,y,x+r,y,r);
    ctx.stroke();
}
```

more

html部分加入如下代码

```html
<div>
  <canvas id="myCanvas" height="100em" width="100em"></canvas>
  <a>用户名</a>
  <a>08月25日</a>
  <a>用户名</a>
</div>
<img  src="../img/head.jpg" id="headpic" />
```


body标签上加上

```
  onload="draw('myCanvas','headpic')"
```

然后可看到效果，但是，我想用一张图片填充进去，无法生效，求解。